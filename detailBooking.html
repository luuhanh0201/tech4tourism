<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<div class="container py-5">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="fw-bold mb-1">Chi Tiết Booking #BK001</h2>
            <p class="text-muted mb-0">Ngày tạo: 20/11/2024 10:30 AM</p>
        </div>
        <div class="d-flex gap-2">
            <a href="booking/edit?id=1" class="btn btn-warning">
                <i class="fa-solid fa-pen me-2"></i>Chỉnh Sửa
            </a>
            <a href="booking-manager" class="btn btn-outline-secondary">
                <i class="fa-solid fa-arrow-left me-2"></i>Quay Lại
            </a>
        </div>
    </div>

    <div class="row">
        <!-- Cột trái -->
        <div class="col-lg-8">
            <!-- Thông tin Tour -->
            <div class="card-section mb-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="section-title mb-0">
                        <i class="fa-solid fa-map-location-dot me-2"></i>Thông Tin Tour
                    </h5>
                    <span class="status-confirmed">Đã xác nhận</span>
                </div>
                <div class="row">
                    <div class="col-md-12 mb-3">
                        <div class="info-card">
                            <div class="tour-header">
                                <img src="https://via.placeholder.com/100x80" alt="Tour" class="tour-image">
                                <div class="flex-grow-1">
                                    <h6 class="mb-2 fw-bold">Tour Hà Nội - Sapa 3N2Đ</h6>
                                    <div class="tour-meta">
                                        <span><i class="fa-solid fa-calendar me-1"></i>15/12/2024 - 18/12/2024</span>
                                        <span><i class="fa-solid fa-clock me-1"></i>3 ngày 2 đêm</span>
                                        <span><i class="fa-solid fa-users me-1"></i>4 người</span>
                                    </div>
                                </div>
                                <div class="text-end">
                                    <div class="tour-price">12,000,000₫</div>
                                    <small class="text-muted">Giá/người</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item">
                            <span class="label">Điểm khởi hành:</span>
                            <span class="value">Hà Nội</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item">
                            <span class="label">Điểm đến:</span>
                            <span class="value">Sapa, Lào Cai</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item">
                            <span class="label">Hướng dẫn viên:</span>
                            <span class="value">
                                <a href="#" class="text-primary">Nguyễn Văn Hùng</a>
                            </span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item">
                            <span class="label">Phương tiện:</span>
                            <span class="value">Xe 16 chỗ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Thông tin Khách hàng -->
            <div class="card-section mb-4">
                <h5 class="section-title">
                    <i class="fa-solid fa-user me-2"></i>Thông Tin Khách Hàng
                </h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="info-item">
                            <span class="label">Họ và tên:</span>
                            <span class="value fw-bold">Nguyễn Văn A</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item">
                            <span class="label">Số điện thoại:</span>
                            <span class="value">
                                <a href="tel:0912345678" class="text-primary">0912345678</a>
                            </span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="info-item">
                            <span class="label">Email:</span>
                            <span class="value">
                                <a href="mailto:nguyenvana@email.com" class="text-primary">nguyenvana@email.com</a>
                            </span>
                        </div>
                    </div>
               
                    <div class="col-md-12">
                        <div class="info-item">
                            <span class="label">Địa chỉ:</span>
                            <span class="value">123 Đường ABC, Phường XYZ, Quận 1, TP.HCM</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Danh sách Khách tham gia -->
            <div class="card-section mb-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="section-title mb-0">
                        <i class="fa-solid fa-users me-2"></i>Danh Sách Khách Tham Gia (4 người)
                    </h5>
                    <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#checkInModal">
                        <i class="fa-solid fa-user-check me-2"></i>Check-in
                    </button>
                </div>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>STT</th>
                                <th>Họ và Tên</th>
                                <th>Giới Tính</th>
                                <th>Ngày Sinh</th>
                                <th>Loại</th>
                                <th>Phòng</th>
                                <th>Trạng Thái</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Nguyễn Văn A</td>
                                <td>Nam</td>
                                <td>15/05/1985</td>
                                <td><span class="badge bg-primary">Người lớn</span></td>
                                <td>Phòng 101</td>
                                <td><span class="badge bg-success"><i class="fa-solid fa-check me-1"></i>Đã check-in</span></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Trần Thị B</td>
                                <td>Nữ</td>
                                <td>20/08/1987</td>
                                <td><span class="badge bg-primary">Người lớn</span></td>
                                <td>Phòng 101</td>
                                <td><span class="badge bg-success"><i class="fa-solid fa-check me-1"></i>Đã check-in</span></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Nguyễn Văn C</td>
                                <td>Nam</td>
                                <td>10/03/2012</td>
                                <td><span class="badge bg-info">Trẻ em</span></td>
                                <td>Phòng 102</td>
                                <td><span class="badge bg-success"><i class="fa-solid fa-check me-1"></i>Đã check-in</span></td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Nguyễn Thị D</td>
                                <td>Nữ</td>
                                <td>05/11/2015</td>
                                <td><span class="badge bg-info">Trẻ em</span></td>
                                <td>Phòng 102</td>
                                <td><span class="badge bg-success"><i class="fa-solid fa-check me-1"></i>Đã check-in</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Ghi chú đặc biệt -->
            <div class="card-section mb-4">
                <h5 class="section-title">
                    <i class="fa-solid fa-clipboard me-2"></i>Ghi Chú Đặc Biệt
                </h5>
                <div class="special-notes">
                    <div class="note-tag">
                        <i class="fa-solid fa-leaf text-success"></i>
                        Ăn chay
                    </div>
                    <div class="note-tag">
                        <i class="fa-solid fa-wheelchair text-info"></i>
                        Cần hỗ trợ di chuyển
                    </div>
                </div>
                <div class="mt-3">
                    <p class="mb-1 fw-bold">Chi tiết:</p>
                    <p class="text-muted">
                        - Khách Nguyễn Văn A ăn chay hoàn toàn<br>
                        - Khách Trần Thị B cần xe lăn, hỗ trợ di chuyển lên xuống xe<br>
                        - Không dị ứng thực phẩm
                    </p>
                </div>
            </div>

            <!-- Lịch sử thay đổi -->
            <div class="card-section mb-4">
                <h5 class="section-title">
                    <i class="fa-solid fa-clock-rotate-left me-2"></i>Lịch Sử Thay Đổi
                </h5>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-marker bg-success"></div>
                        <div class="timeline-content">
                            <div class="d-flex justify-content-between">
                                <strong>Đã check-in</strong>
                                <small class="text-muted">15/12/2024 08:00</small>
                            </div>
                            <p class="text-muted mb-0">Tất cả khách đã check-in đầy đủ</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker bg-primary"></div>
                        <div class="timeline-content">
                            <div class="d-flex justify-content-between">
                                <strong>Phân công HDV</strong>
                                <small class="text-muted">10/12/2024 14:30</small>
                            </div>
                            <p class="text-muted mb-0">Đã phân công HDV: Nguyễn Văn Hùng</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker bg-info"></div>
                        <div class="timeline-content">
                            <div class="d-flex justify-content-between">
                                <strong>Xác nhận booking</strong>
                                <small class="text-muted">20/11/2024 15:00</small>
                            </div>
                            <p class="text-muted mb-0">Booking đã được xác nhận</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-marker bg-warning"></div>
                        <div class="timeline-content">
                            <div class="d-flex justify-content-between">
                                <strong>Tạo booking</strong>
                                <small class="text-muted">20/11/2024 10:30</small>
                            </div>
                            <p class="text-muted mb-0">Booking được tạo bởi Admin</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cột phải -->
        <div class="col-lg-4">
            <!-- Thanh toán -->
            <div class="card-section summary-card sticky-top mb-4">
                <h5 class="section-title">
                    <i class="fa-solid fa-file-invoice-dollar me-2"></i>Thông Tin Thanh Toán
                </h5>
                
                <div class="summary-item">
                    <span>Người lớn (2 × 12,000,000đ):</span>
                    <strong>24,000,000đ</strong>
                </div>
                <div class="summary-item">
                    <span>Trẻ em (2 × 8,400,000đ):</span>
                    <strong>16,800,000đ</strong>
                </div>
                
                <hr>
                
                <div class="summary-item">
                    <span>Tạm tính:</span>
                    <strong>40,800,000đ</strong>
                </div>
                <div class="summary-item text-success">
                    <span>Giảm giá (5%):</span>
                    <strong>-2,040,000đ</strong>
                </div>
                
                <hr>
                
                <div class="summary-total">
                    <span>Tổng Cộng:</span>
                    <strong>38,760,000đ</strong>
                </div>
                
                <div class="payment-status mb-3">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Đã thanh toán:</span>
                        <strong class="text-success">20,000,000đ</strong>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span>Còn lại:</span>
                        <strong class="text-danger">18,760,000đ</strong>
                    </div>
                </div>
                
                <div class="progress mb-3" style="height: 8px;">
                    <div class="progress-bar bg-success" style="width: 52%"></div>
                </div>
                
                <div class="mb-3">
                    <small class="text-muted">Phương thức: Chuyển khoản</small>
                </div>
                
                <div class="d-grid gap-2">
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#paymentModal">
                        <i class="fa-solid fa-money-bill-wave me-2"></i>Thanh Toán
                    </button>
                    <button class="btn btn-outline-secondary">
                        <i class="fa-solid fa-receipt me-2"></i>In Hóa Đơn
                    </button>
                </div>
            </div>

            <!-- Hành động nhanh -->
            <div class="card-section mb-4">
                <h5 class="section-title">
                    <i class="fa-solid fa-bolt me-2"></i>Hành Động Nhanh
                </h5>
                <div class="d-grid gap-2">
                    <button class="btn btn-outline-primary btn-sm">
                        <i class="fa-solid fa-paper-plane me-2"></i>Gửi Thông Tin Tour
                    </button>
                    <button class="btn btn-outline-info btn-sm">
                        <i class="fa-solid fa-envelope me-2"></i>Gửi Email Xác Nhận
                    </button>
                    <button class="btn btn-outline-warning btn-sm">
                        <i class="fa-solid fa-bell me-2"></i>Nhắc Nhở Khách
                    </button>
                    <button class="btn btn-outline-danger btn-sm">
                        <i class="fa-solid fa-ban me-2"></i>Hủy Booking
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card-section {
        background: white;
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .section-title {
        color: #333;
        font-weight: 700;
        padding-bottom: 12px;
        border-bottom: 2px solid #f0f0f0;
    }

    .section-title i {
        color: #ff8a65;
    }

    .status-confirmed {
        background: #E3F2FD;
        color: #1976D2;
        padding: 8px 20px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.875rem;
    }

    .info-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #ff8a65;
    }

    .tour-header {
        display: flex;
        gap: 15px;
        align-items: center;
    }

    .tour-image {
        width: 100px;
        height: 80px;
        object-fit: cover;
        border-radius: 8px;
    }

    .tour-meta {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        font-size: 0.875rem;
        color: #666;
    }

    .tour-price {
        font-size: 1.5rem;
        font-weight: 700;
        color: #ff8a65;
    }

    .info-item {
        display: flex;
        justify-content: space-between;
        padding: 12px 0;
        border-bottom: 1px solid #f0f0f0;
    }

    .info-item .label {
        color: #666;
        font-weight: 500;
    }

    .info-item .value {
        color: #333;
        font-weight: 600;
        text-align: right;
    }

    .special-notes {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .note-tag {
        background: #f8f9fa;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.875rem;
        border: 1px solid #ddd;
    }

    .timeline {
        position: relative;
        padding-left: 30px;
    }

    .timeline-item {
        position: relative;
        padding-bottom: 25px;
    }

    .timeline-item::before {
        content: '';
        position: absolute;
        left: -21px;
        top: 8px;
        bottom: -15px;
        width: 2px;
        background: #e0e0e0;
    }

    .timeline-item:last-child::before {
        display: none;
    }

    .timeline-marker {
        position: absolute;
        left: -26px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: 2px solid white;
    }

    .timeline-content {
        background: #f8f9fa;
        padding: 12px;
        border-radius: 8px;
    }

    .summary-card {
        background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
        border: 2px solid #ff8a65;
    }

    .summary-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        font-size: 0.95rem;
    }

    .summary-total {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        font-size: 1.3rem;
        font-weight: 700;
        color: #ff8a65;
    }

    .payment-status {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
    }

    .btn-primary {
        background-color: #ff8a65;
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        font-weight: 600;
    }

    .btn-primary:hover {
        background-color: #ff6f47;
    }

    .sticky-top {
        top: 20px;
    }

    @media (max-width: 991px) {
        .sticky-top {
            position: relative !important;
            top: 0 !important;
        }
        
        .tour-header {
            flex-direction: column;
            align-items: flex-start;
        }
    }
</style>